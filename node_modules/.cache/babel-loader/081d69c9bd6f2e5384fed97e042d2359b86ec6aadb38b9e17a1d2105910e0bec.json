{"ast":null,"code":"import { actionChannel } from '@redux-saga/core/effects';\nimport produce from 'immer';\nconst INITIAL_AMOUNT = {\n  amount: []\n};\nconst INITIAL_CART = {\n  cart: []\n};\n\n// responsável por adicionar produto ao carrinho através dos dispatchs\nconst reducer = produce((draft, action) => {\n  switch (action.type) {\n    // case responsável por adicionar livro por id\n    case '@cart/addSuccess':\n      const {\n        product\n      } = action;\n      draft.cart[product[0].id] = product;\n      break;\n    // case responsável por remover um livro por id\n    case '@cart/removeItem':\n      draft.cart.splice(draft.cart.indexOf(draft.cart[action.id]), 1);\n      break;\n    // case responsável por limpar o carrinho\n    case '@cart/clear':\n      draft.cart.splice(0, draft.cart.length);\n  }\n}, INITIAL_CART);\n\n// responsável por atualizar a quantia de cada produto individualmente\nconst reducerAmountCart = produce((draft, action) => {\n  switch (action.type) {\n    case '@cart/amountSuccess':\n      if (typeof draft.amount[action.id] === 'undefined') draft.amount[action.id] = 1;else draft.amount[action.id]++;\n      break;\n    case '@cart/incremented':\n      draft.amount[action.id]++;\n      break;\n    case '@cart/decremented':\n      if (draft.amount[action.id] > 0) draft.amount[action.id]--;\n      break;\n    case '@cart/removeAmount':\n      delete draft.amount[action.id];\n      break;\n    case '@cart/clearAmount':\n      draft.amount.splice(0, draft.amount.length);\n  }\n}, INITIAL_AMOUNT);\nexport { reducer, reducerAmountCart };","map":{"version":3,"names":["actionChannel","produce","INITIAL_AMOUNT","amount","INITIAL_CART","cart","reducer","draft","action","type","product","id","splice","indexOf","length","reducerAmountCart"],"sources":["C:/Users/Agripino/Desktop/mini_Projeto_ReactJS/src/store/reducer.js"],"sourcesContent":["import { actionChannel } from '@redux-saga/core/effects';\r\nimport produce from 'immer';\r\n\r\n\r\nconst INITIAL_AMOUNT = {\r\n  amount: [],\r\n}\r\n\r\nconst INITIAL_CART = {\r\n  cart: []\r\n}\r\n\r\n// responsável por adicionar produto ao carrinho através dos dispatchs\r\nconst reducer = produce((draft, action) => {\r\n  switch (action.type) {\r\n    // case responsável por adicionar livro por id\r\n    case '@cart/addSuccess':\r\n      const {product} = action;\r\n      draft.cart[product[0].id] = product;\r\n      break;\r\n    // case responsável por remover um livro por id\r\n    case '@cart/removeItem':\r\n      draft.cart.splice(draft.cart.indexOf(draft.cart[action.id]), 1);  \r\n      break;\r\n    // case responsável por limpar o carrinho\r\n    case '@cart/clear':\r\n      draft.cart.splice(0, draft.cart.length);\r\n  }\r\n}, INITIAL_CART)\r\n\r\n// responsável por atualizar a quantia de cada produto individualmente\r\nconst reducerAmountCart = produce((draft, action) => {\r\n  switch (action.type) {\r\n\r\n    case '@cart/amountSuccess':\r\n      if(typeof draft.amount[action.id] === 'undefined')\r\n        draft.amount[action.id] = 1;\r\n      else\r\n        draft.amount[action.id]++;\r\n      break;\r\n\r\n    case '@cart/incremented':\r\n        draft.amount[action.id]++;\r\n      break;\r\n\r\n    case '@cart/decremented':\r\n      if(draft.amount[action.id] > 0)\r\n        draft.amount[action.id]--;\r\n      break;\r\n      \r\n    case '@cart/removeAmount':\r\n      delete draft.amount[action.id];\r\n      break;\r\n\r\n    case '@cart/clearAmount':\r\n      draft.amount.splice(0, draft.amount.length);\r\n  }\r\n}, INITIAL_AMOUNT)\r\n\r\nexport {reducer, reducerAmountCart};"],"mappings":"AAAA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,OAAO,MAAM,OAAO;AAG3B,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE;AACR,CAAC;;AAED;AACA,MAAMC,OAAO,GAAGL,OAAO,CAAC,CAACM,KAAK,EAAEC,MAAM,KAAK;EACzC,QAAQA,MAAM,CAACC,IAAI;IACjB;IACA,KAAK,kBAAkB;MACrB,MAAM;QAACC;MAAO,CAAC,GAAGF,MAAM;MACxBD,KAAK,CAACF,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,EAAE,CAAC,GAAGD,OAAO;MACnC;IACF;IACA,KAAK,kBAAkB;MACrBH,KAAK,CAACF,IAAI,CAACO,MAAM,CAACL,KAAK,CAACF,IAAI,CAACQ,OAAO,CAACN,KAAK,CAACF,IAAI,CAACG,MAAM,CAACG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/D;IACF;IACA,KAAK,aAAa;MAChBJ,KAAK,CAACF,IAAI,CAACO,MAAM,CAAC,CAAC,EAAEL,KAAK,CAACF,IAAI,CAACS,MAAM,CAAC;EAAC;AAE9C,CAAC,EAAEV,YAAY,CAAC;;AAEhB;AACA,MAAMW,iBAAiB,GAAGd,OAAO,CAAC,CAACM,KAAK,EAAEC,MAAM,KAAK;EACnD,QAAQA,MAAM,CAACC,IAAI;IAEjB,KAAK,qBAAqB;MACxB,IAAG,OAAOF,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,KAAK,WAAW,EAC/CJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,GAAG,CAAC,CAAC,KAE5BJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,EAAE;MAC3B;IAEF,KAAK,mBAAmB;MACpBJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,EAAE;MAC3B;IAEF,KAAK,mBAAmB;MACtB,IAAGJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,GAAG,CAAC,EAC5BJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC,EAAE;MAC3B;IAEF,KAAK,oBAAoB;MACvB,OAAOJ,KAAK,CAACJ,MAAM,CAACK,MAAM,CAACG,EAAE,CAAC;MAC9B;IAEF,KAAK,mBAAmB;MACtBJ,KAAK,CAACJ,MAAM,CAACS,MAAM,CAAC,CAAC,EAAEL,KAAK,CAACJ,MAAM,CAACW,MAAM,CAAC;EAAC;AAElD,CAAC,EAAEZ,cAAc,CAAC;AAElB,SAAQI,OAAO,EAAES,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}