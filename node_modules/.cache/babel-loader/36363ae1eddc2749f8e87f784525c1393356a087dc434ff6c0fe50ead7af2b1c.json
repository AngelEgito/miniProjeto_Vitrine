{"ast":null,"code":"import { all, put, select, takeLatest } from 'redux-saga/effects'; // importe de redux-saga/effects\nimport { addSuccess, cartAmountUpdateSuccess, cartRemove, cartAmountUpdate, cartClearAmountUpdate } from '../store/actions'; // importar de store/actions\n\n/* ### métodos para redux saga que funcionam por trás dos panos na aplicação aos quais você queira ###\r\n** ### que funcione junto aos componentes como Home, Cart e ShowCart ###\r\n**/\n\n// representa o BACK-END. Caso queira para a produção, desconsidere esse objeto booksjson caso queira um banco de dados real\nconst booksjson = [{\n  id: 1,\n  title: 'JavaScript - Guia Definitivo',\n  price: 74.99,\n  img: 'https://s3.novatec.com.br/capas-ampliadas/capa-ampliada-9788575222485.jpg'\n}, {\n  id: 2,\n  title: 'PHP & MySQL',\n  price: 84.99,\n  img: 'https://s3.novatec.com.br/capas-ampliadas/capa-ampliada-9788575225295.jpg'\n}, {\n  id: 3,\n  title: 'Java Como Programar',\n  price: 95.24,\n  img: 'https://images-na.ssl-images-amazon.com/images/I/A16Dr5jlhzL.jpg'\n}];\n\n// function saga responsável por executar em segundo plano\nfunction addToCart(_ref) {\n  let {\n    id\n  } = _ref;\n  return function* () {\n    // obtém um book através do ID\n    const s = yield select(state => state.clickCart.cart.map(p => {\n      return p[0].id === id;\n    }));\n    //window.alert(s[id]);\n    if (s[id]) window.alert('Produto existe');else window.alert('Produto não existe');\n    const book = booksjson.map(book => book.id === id ? book : null);\n\n    // adiciona item ao carrinho\n    yield put(addSuccess([book[id - 1]]));\n    // atualiza quantia de item por id ao carrinho\n    yield put(cartAmountUpdateSuccess(id));\n  }();\n}\n\n// function saga responsável por executar em segundo plano\nfunction removeAmount(_ref2) {\n  let {\n    id\n  } = _ref2;\n  return function* () {\n    // atualize a quantia de item por id ao carrinho\n    yield put(cartAmountUpdate(id));\n  }();\n}\n\n// function saga responsável por executar em segundo plano\nfunction* cartClearUpdate() {\n  // atualize e limpe todas as quantias de itens ao carrinho\n  yield put(cartClearAmountUpdate());\n}\n\n/* ### exporta como padrão com all (que junta todos os sagas de redux) com takeLatest para cada ação de add (adicionar) \r\n** ### quando houver cliques no botão em Home, Cart e ShowCart, ou seja, takeLatest ouve os eventos de adiçao de livros e nos cliques no botão\r\n   ### em scripts Home. Você poderá adiconar mais eventos se quiser além desse que está embaixo.\r\n**/\nexport default all([takeLatest('add', addToCart), takeLatest('@cart/removeItem', removeAmount), takeLatest('@cart/clear', cartClearUpdate)]);","map":{"version":3,"names":["all","put","select","takeLatest","addSuccess","cartAmountUpdateSuccess","cartRemove","cartAmountUpdate","cartClearAmountUpdate","booksjson","id","title","price","img","addToCart","s","state","clickCart","cart","map","p","window","alert","book","removeAmount","cartClearUpdate"],"sources":["C:/Users/Agripino/Desktop/mini_Projeto_ReactJS/src/store/sagas.js"],"sourcesContent":["import {all, put, select, takeLatest} from 'redux-saga/effects'  // importe de redux-saga/effects\r\nimport { addSuccess, cartAmountUpdateSuccess, cartRemove, cartAmountUpdate, cartClearAmountUpdate } from '../store/actions'; // importar de store/actions\r\n\r\n/* ### métodos para redux saga que funcionam por trás dos panos na aplicação aos quais você queira ###\r\n** ### que funcione junto aos componentes como Home, Cart e ShowCart ###\r\n**/\r\n\r\n// representa o BACK-END. Caso queira para a produção, desconsidere esse objeto booksjson caso queira um banco de dados real\r\nconst booksjson = [\r\n    {id: 1, title: 'JavaScript - Guia Definitivo', price: 74.99, img: 'https://s3.novatec.com.br/capas-ampliadas/capa-ampliada-9788575222485.jpg'},\r\n    {id: 2, title: 'PHP & MySQL', price: 84.99, img: 'https://s3.novatec.com.br/capas-ampliadas/capa-ampliada-9788575225295.jpg'},\r\n    {id: 3, title: 'Java Como Programar', price: 95.24, img: 'https://images-na.ssl-images-amazon.com/images/I/A16Dr5jlhzL.jpg'}\r\n];\r\n\r\n// function saga responsável por executar em segundo plano\r\nfunction* addToCart({id}) {\r\n    // obtém um book através do ID\r\n    const s = yield select(state => (state.clickCart.cart.map((p => {return p[0].id === id}))));\r\n    //window.alert(s[id]);\r\n    if(s[id])\r\n        window.alert('Produto existe');\r\n    else\r\n        window.alert('Produto não existe');\r\n\r\n    const book = booksjson.map(book => (book.id === id) ? book : null);\r\n\r\n    // adiciona item ao carrinho\r\n    yield put(addSuccess([book[id - 1]]));\r\n    // atualiza quantia de item por id ao carrinho\r\n    yield put(cartAmountUpdateSuccess(id));\r\n}\r\n\r\n// function saga responsável por executar em segundo plano\r\nfunction* removeAmount({id}) {\r\n    // atualize a quantia de item por id ao carrinho\r\n    yield put(cartAmountUpdate(id));\r\n}\r\n\r\n// function saga responsável por executar em segundo plano\r\nfunction* cartClearUpdate() {    \r\n    // atualize e limpe todas as quantias de itens ao carrinho\r\n    yield put(cartClearAmountUpdate());\r\n}\r\n\r\n/* ### exporta como padrão com all (que junta todos os sagas de redux) com takeLatest para cada ação de add (adicionar) \r\n** ### quando houver cliques no botão em Home, Cart e ShowCart, ou seja, takeLatest ouve os eventos de adiçao de livros e nos cliques no botão\r\n   ### em scripts Home. Você poderá adiconar mais eventos se quiser além desse que está embaixo.\r\n**/\r\nexport default all([\r\n    takeLatest('add', addToCart),\r\n    takeLatest('@cart/removeItem', removeAmount),\r\n    takeLatest('@cart/clear', cartClearUpdate)\r\n]);"],"mappings":"AAAA,SAAQA,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,UAAU,QAAO,oBAAoB,EAAE;AACjE,SAASC,UAAU,EAAEC,uBAAuB,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,qBAAqB,QAAQ,kBAAkB,CAAC,CAAC;;AAE7H;AACA;AACA;;AAEA;AACA,MAAMC,SAAS,GAAG,CACd;EAACC,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,8BAA8B;EAAEC,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAA2E,CAAC,EAC9I;EAACH,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,aAAa;EAAEC,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAA2E,CAAC,EAC7H;EAACH,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,qBAAqB;EAAEC,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAkE,CAAC,CAC/H;;AAED;AACA,SAAUC,SAAS;EAAA,IAAC;IAACJ;EAAE,CAAC;EAAA,oBAAE;IACtB;IACA,MAAMK,CAAC,GAAG,MAAMb,MAAM,CAACc,KAAK,IAAKA,KAAK,CAACC,SAAS,CAACC,IAAI,CAACC,GAAG,CAAEC,CAAC,IAAI;MAAC,OAAOA,CAAC,CAAC,CAAC,CAAC,CAACV,EAAE,KAAKA,EAAE;IAAA,CAAC,CAAG,CAAC;IAC3F;IACA,IAAGK,CAAC,CAACL,EAAE,CAAC,EACJW,MAAM,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAE/BD,MAAM,CAACC,KAAK,CAAC,oBAAoB,CAAC;IAEtC,MAAMC,IAAI,GAAGd,SAAS,CAACU,GAAG,CAACI,IAAI,IAAKA,IAAI,CAACb,EAAE,KAAKA,EAAE,GAAIa,IAAI,GAAG,IAAI,CAAC;;IAElE;IACA,MAAMtB,GAAG,CAACG,UAAU,CAAC,CAACmB,IAAI,CAACb,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACrC;IACA,MAAMT,GAAG,CAACI,uBAAuB,CAACK,EAAE,CAAC,CAAC;EAC1C,CAAC;AAAA;;AAED;AACA,SAAUc,YAAY;EAAA,IAAC;IAACd;EAAE,CAAC;EAAA,oBAAE;IACzB;IACA,MAAMT,GAAG,CAACM,gBAAgB,CAACG,EAAE,CAAC,CAAC;EACnC,CAAC;AAAA;;AAED;AACA,UAAUe,eAAe,GAAG;EACxB;EACA,MAAMxB,GAAG,CAACO,qBAAqB,EAAE,CAAC;AACtC;;AAEA;AACA;AACA;AACA;AACA,eAAeR,GAAG,CAAC,CACfG,UAAU,CAAC,KAAK,EAAEW,SAAS,CAAC,EAC5BX,UAAU,CAAC,kBAAkB,EAAEqB,YAAY,CAAC,EAC5CrB,UAAU,CAAC,aAAa,EAAEsB,eAAe,CAAC,CAC7C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}